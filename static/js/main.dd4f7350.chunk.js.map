{"version":3,"sources":["styles.js","App.js","serviceWorker.js","index.js"],"names":["styles","layout","position","height","width","header","background","marginBottom","input_title","margin","marginRight","input_year","input_author","table","overflow","footer","padding","textAlign","lineHeight","fontSize","backgroundColor","color","borderTop","button","electron","window","Header","Content","Footer","App","state","data","current_id","title_arr","has_listen_message","has_send_title","columns","title","dataIndex","key","render","id","text","slice","ps","type","percent","status","send_title","alert","setState","message_handle","document","getElementById","value","replace","split","map","d","author","year","change_data","ipcRenderer","send","show_subWindow","restart","data_","push","search_result","cite_num","cite_page_printed","detail_page_printed","progress_status","update_and_load","message","last_progress_status","length","setTimeout","valid_title","match","on","event","self_cite_num","other_cite_num","console","log","this","style","placeholder","onClick","dataSource","pagination","href","React","Component","Boolean","location","hostname","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.dd4f7350.chunk.js","sourcesContent":["const styles = {\r\n    layout: {\r\n        position: 'absolute',\r\n        height: '100%',\r\n        width: '100%'\r\n    },\r\n    \r\n    header: {\r\n        background: '#fff',\r\n        marginBottom: '2px solid rgba(0, 200, 130, 0.9)',\r\n    },\r\n\r\n    input_title: {\r\n        margin: '0, 30px',\r\n        width: '250px',\r\n        marginRight: '25px',\r\n    },\r\n\r\n    input_year: {\r\n        margin: '0, 30px',\r\n        width: '100px',\r\n        marginRight: '25px',\r\n    },\r\n\r\n    input_author: {\r\n        margin: '0, 30px',\r\n        width: '220px',\r\n        marginRight: '25px',\r\n    },\r\n\r\n    table: {\r\n        height: '600px',\r\n        overflow: 'scroll',\r\n    },\r\n\r\n    footer: {\r\n        height:  '35px',\r\n        padding: '10px 0',\r\n        textAlign: 'center',\r\n        lineHeight: '15px',\r\n        fontSize: '15px',\r\n        backgroundColor: 'black',\r\n        color: 'gray',\r\n        borderTop: '1px solid #3b3f41'\r\n    },\r\n\r\n    button: {\r\n        fontSize: '12px',\r\n        textAlign: 'center',\r\n        margin: '0 20px',\r\n\r\n    },\r\n   \r\n};\r\n\r\nexport default styles;","// Thanks to \r\n//      https://www.iconfont.cn/search/index\r\n//      https://c.runoob.com/more/svgeditor\r\n//      https://ant.design/components/\r\n\r\nimport React from 'react';\r\nimport './App.css';\r\nimport styles from './styles.js';\r\nimport { Button, Layout, Input, Table, Progress } from 'antd';\r\n\r\nconst electron = window.electron;\r\nconst { Header, Content, Footer } = Layout;\r\n\r\nclass App extends React.Component {\r\n    state = {\r\n        data: [],\r\n        current_id: 0,\r\n        title_arr: [],\r\n        has_listen_message: false,\r\n        has_send_title: false, \r\n        columns: [\r\n            {   \r\n                title: '编号',    dataIndex: 'id',    key: 'id',  render: id => <span>{ id }</span>,\r\n            }, {   \r\n                title: '标题',   dataIndex: 'title',    key: 'title',   render: text => <span title={ text }>{ text.slice(0, 30) + '...' }</span>,\r\n            }, {   \r\n                title: '截图', dataIndex: 'search_result',  key: 'search_result',\r\n            }, {   \r\n                title: '引用量', dataIndex: 'cite_num',   key: 'cite_num',\r\n            }, {   \r\n                title: '自引',   dataIndex: 'self_cite_num',    key: 'self_cite_num',\r\n            }, {   \r\n                title: '他引',   dataIndex: 'other_cite_num',   key: 'other_cite_num',\r\n            }, {   \r\n                title: `打印引用文献列表`,   dataIndex: 'cite_page_printed',    key: 'cite_page_printed',\r\n            }, {   \r\n                title: '打印详情页',  dataIndex: 'detail_page_printed', key: 'detail_page_printed',\r\n            }, {   \r\n                title: '进度',   dataIndex: 'progress_status',  key: 'progress_status',   render: ps => <Progress type=\"circle\" percent={ ps[0] } width={30} status={ ps[1] }/>,\r\n            },\r\n        ]\r\n    }\r\n\r\n    send_title = () => {\r\n        if( this.state.has_send_title ) {\r\n            alert('请重新启动或者等待任务完成');\r\n            return;\r\n        }\r\n        this.setState({ data: [], current_id: 0 });\r\n        this.message_handle();\r\n        let title_arr = document.getElementById('title').value.replace(/，/g, ',').split(',').map( d => d.replace(/(^\\s*)/, '') );\r\n        let author = document.getElementById('author').value;\r\n        let year = document.getElementById('year').value.replace(/，/g, ',').replace(/\\s/g, '').split(',');\r\n        if( title_arr[0] === \"\" || author === '' || year[0] === \"\") {\r\n            alert('请输入标题， 年份， 作者');\r\n            return;\r\n        }\r\n        this.setState( { title_arr: title_arr }, () => {\r\n            this.change_data();\r\n        });\r\n        electron.ipcRenderer.send('search_title_2_main', {\r\n            title: title_arr[0], \r\n            id: 1,\r\n        });\r\n        electron.ipcRenderer.send('selection', {\r\n            author: author,\r\n            year: year,\r\n        });\r\n        this.state.has_send_title = true;\r\n    }\r\n    \r\n    show_subWindow = () => {\r\n        electron.ipcRenderer.send('show_subWindow', true);\r\n    }\r\n    \r\n    restart = () =>  {\r\n        electron.ipcRenderer.send('restart', true);\r\n    }\r\n    \r\n\r\n    change_data = () => {\r\n        let data_ = [...this.state.data];\r\n        this.state.title_arr.map( (title, id) => {\r\n            data_.push({\r\n                key: id + 1, \r\n                id: id + 1,\r\n                title: title, \r\n                search_result: '',\r\n                cite_num: '',\r\n                cite_page_printed: '',\r\n                detail_page_printed: '',\r\n                progress_status: [0, \"normal\"],\r\n            })  \r\n        })\r\n        this.setState({\r\n            data: data_\r\n        })\r\n    }\r\n\r\n    update_and_load = (data, message) => {\r\n        this.setState({ data: data }, () => {\r\n            let title_arr = this.state.title_arr;\r\n            let last_progress_status = this.state.data[this.state.data.length - 1].progress_status;\r\n            if( last_progress_status[1] !== 'normal' || last_progress_status[0] === 100 ) {\r\n                setTimeout(() => {\r\n                    this.state.has_send_title = false;\r\n                    this.valid_title();\r\n                }, 600);\r\n            } else if( !message.match(/\\d/) ) {\r\n                this.setState({ current_id: this.state.current_id + 1 }, () => {\r\n                    electron.ipcRenderer.send('search_title_2_main', {\r\n                        title: title_arr[this.state.current_id], \r\n                        id: this.state.current_id + 1,\r\n                    });\r\n                })                    \r\n            }\r\n        });\r\n    }\r\n\r\n    message_handle = () => {\r\n        if( this.state.has_listen_message ) return;\r\n        this.state.has_listen_message = true;\r\n        electron.ipcRenderer.on('search_page_status', (event, message) => {\r\n            let data = [...this.state.data];\r\n            if( message === 'mutil' ) {\r\n                data[this.state.current_id].search_result = '标题不精确';\r\n                data[this.state.current_id].progress_status = [25, 'exception'];\r\n            } else if( message === 'no_cite' ) {\r\n                data[this.state.current_id].search_result = '引用量为0';\r\n                data[this.state.current_id].cite_num = 0;\r\n                data[this.state.current_id].progress_status = [100, 'success '];\r\n            } else if( message === 'no_found' ) {\r\n                data[this.state.current_id].search_result = '没有找到';\r\n                data[this.state.current_id].progress_status = [25, 'exception'];\r\n            } else {\r\n                data[this.state.current_id].search_result = '已截图';\r\n                data[this.state.current_id].progress_status = [25, 'normal'];\r\n            }\r\n            this.update_and_load(data, message);\r\n        })\r\n\r\n        electron.ipcRenderer.on('cite_page_status', (event, message) => {\r\n            let data = [...this.state.data];\r\n            if( message === 'no_cite' ) {\r\n                data[this.state.current_id].cite_num = '0';\r\n                data[this.state.current_id].progress_status = [100, 'success '];\r\n            } else {\r\n                data[this.state.current_id].cite_num = message;\r\n                data[this.state.current_id].progress_status = [50, 'normal'];\r\n            }\r\n            this.update_and_load(data, message);\r\n        })\r\n\r\n        electron.ipcRenderer.on('cite_num', (event, message) => {\r\n            let data = [...this.state.data];\r\n            data[this.state.current_id].self_cite_num = message.self_cite_num;\r\n            data[this.state.current_id].other_cite_num = message.other_cite_num;\r\n            console.log(message);\r\n            this.update_and_load(data, '1');\r\n        })\r\n\r\n        electron.ipcRenderer.on('print', (event, message) => {\r\n            let data = [...this.state.data];\r\n            if( message === 'cite_page_printed' ) {\r\n                data[this.state.current_id].cite_page_printed = '已打印';\r\n                data[this.state.current_id].progress_status = [75, 'normal']\r\n                this.update_and_load(data, '1');\r\n            } else if( message === 'detail_page_printed' ){\r\n                data[this.state.current_id].detail_page_printed = '已打印';\r\n                data[this.state.current_id].progress_status = [100, 'success ']\r\n                this.update_and_load(data, '');\r\n            } else {\r\n                alert('统计完成');\r\n            }\r\n        })\r\n    }\r\n\r\n    valid_title() {\r\n        let title_arr = [];\r\n        for( let data of this.state.data ) {\r\n            if( data.cite_num !== '0' || data.cite_num !== '' ) {\r\n                title_arr.push(data.id + '_search_' + data.title + '.png');\r\n            }\r\n        }\r\n        if( title_arr.length ) {\r\n            electron.ipcRenderer.send('valid_title', title_arr);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Layout style = { styles.layout }>\r\n                <Header style = { styles.header }>\r\n            \t    <Input placeholder=\"输入文章标题，多篇以逗号隔开\" style = { styles.input_title } id='title'/>\r\n                    <Input placeholder=\"筛选年份\" style = { styles.input_year } id='year'/>\r\n                    <Input placeholder=\"作者姓名：如 Chen-Jing-Run\" style = { styles.input_author } id='author'/>\r\n            \t    <Button type='primary' style={ styles.button } onClick={ this.send_title } >开始统计</Button>\r\n            \t    <Button type='primary' style={ styles.button } onClick={ this.show_subWindow } >显示后台</Button>\r\n            \t    <Button type='primary' style={ styles.button } onClick={ this.restart }>重新启动</Button>\r\n                </Header>\r\n\t\t\t    <Content> \r\n                    <Table columns={ this.state.columns } dataSource={ this.state.data } style={ styles.table } pagination={ false }/>\r\n                </Content>\r\n                <Footer style = { styles.footer }>\r\n            \t\t©2020 Created by JMx. <a href='javascript: electron.shell.openExternal(\"https://github.com/jiandandaoxingfu/sci-info-collect/blob/master/README.md\")' >帮助</a><br />\r\n                </Footer>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}